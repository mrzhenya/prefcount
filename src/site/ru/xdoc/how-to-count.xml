<?xml version="1.0" encoding="UTF-8"?>
<document>
  <properties>
    <title>Расчет пули</title>
    <!-- author tags are actually the keywords for html meta tag
         (note, that keywords "PrefCount" and "Preferance" are added by default) -->
    <author>ПрефКаунт</author>
    <author>ПрефКаунт информация</author>
    <author>Преферанс</author>
    <author>Расчет пули</author>
    <author>преферанс посчитать</author>
  </properties>
  <body>

    <!-- Rambler's Top100 counter -->
    <div style="display: none;">
      <img src="http://counter.rambler.ru/top100.cnt?1348433" alt="" width="1" height="1" border="0" />
    </div>

    <section name="Расчет пули.">
      Здесь приводится один из вариантов расчета пули, используемый в программе ПрефКаунт.

      <subsection name="1. РАВНЯЕМ ПУЛИ">
        Во многих типах преферанса игра заканчивается, когда пули всех игроков закрыты, то есть каждый игрок
        имеет в пуле заранее обусловленное количество очков. Если пули игроков рaзличаются, то их следует привести
        к единому значению. Этой величиной может быть заранее условленная пуля или же просто самая большая пуля.
        Например, если условленная пуля была 20, а игрок Юг набрал 28, то он должен отнять от своей
        горы 8 очков в сочинке или 16 очков в ленинградке (в ленинградке стоимость 1 очка в пуле = 2 очкам в горе).
        Если же пуля игрока меньше установленного, то он должен добавить к своей горе разницу (умножая на 2,
        если играется ленинградка). Программа ПрефКаунт для уравнивания пули использует самую большую пулю.
        Определяется игрок с самой большой пулей в игре, а остальные игроки добавляют недостающее количество
        очков к своим горам. Старое значение горы зачеркивается, а новое пишется следом.
      </subsection>

      <subsection name="2. ОПРЕДЕЛЯЕМ ГОРУ">
        Для начала определяется игрок, имеющий в горе наименьшее количество очков, и горы всех игроков
        уменьшаются на это значение - происходит так называемая "амнистия", в результате которой никто ничего
        не теряет, зато арифметические расчеты упрощаются. Кстати, игрок с наименьшей горой называется "амнистер".
        Далее, амнистированные горы складываются и делятся на количество игроков. Каждый игрок затем вычитает
        свою амнистированную гору от средней горы и  результат умножает на 10. Это значение можно считать
        "конечной горой" игрока, выраженной в вистах (так как 1 очко горы равняется 10 вистам).
        В программе ПрефКаунт, "конечная гора" обводится в прямоугольник и записывается в каждом поле гор игроков,
        а третьим значением в горе записывается амнистированная гора игрока.
        <br /><br />

        Делимость горы
        <p>
          В случае если сумма амнистированных гор не делится на количество игроков без остатка, по умолчанию
          происходит игнорирование делимости горы. Цифры после запятой сохраняются вплоть до расчета "конечной горы",
          которая в конечном итоге "транкируется" (от английского, truncated) - то есть цифры по правую сторону запятой
          просто отбрасываются. Необходимо заметить, что в этом случае, конечное сальдо (сумма итоговых очков всех
          игроков) может не равняться нулю.
        </p>
        <p>
          Вторым методом расчетов в случае неделимости горы в ПрефКаунте является распространенный метод,
          который можно использовать выбрав "делимость на N" (игроков) в установках "Делимость горы".
          В этом случае делимость горы обеспечивается путем корректировки горы одного из игроков и соответствующиего
          изменения в вистах. Например, если в игре 3 игрока и после деления суммы гор образуется остаток 2, то
          гора одного из игроков увеличивается на 1 очко и этот игрок записывает по 3 виста на каждого другого игрока
          (чтобы компенсировать изменение в горе). В другом случае, когда при делении образуется остаток 1, один из
          игроков игрок вычитает из своей горы одно очко, а другие игроки записывают на него по 3 вистов.
          Аналогично производится корректировка и при игре в четвером.  Компенсация в 3 виста определана так как в
          случае 3 игроков 10 / 3 = 3,33, что при округлении равняется 3; а в случае 4 игроков 11 / 4 = 2,75,
          что также при округлении равняется 3. В случае 10 / 4 = 2,5 корректировки не требуется так как 2,5 в
          горе это 25 в вистах - без остатка.
        </p>
        <p>
          В том случае когда требуется корректировать гору, Префкаунт попросит определить у
          какого именно игрока требуется корректировать гору. 
        </p>
      </subsection>
      
      <subsection name="3. СЧИТАЕМ САЛЬДО ВИСТОВ">
        Каждый игрок считает разницу вистов друг с другом, определяя сальдо (или баланс) вистов которое данный
        игрок имеет на  каждого другого игрока. Например, если Юг записал на Восток 80 вистов, а Восток на
        Юг всего 20, то сальдо в размере 60 вистов Юг записывает себе в графе вистов на Восток, а Восток в
        графе вистов на Юг записывает обратную величину в размере -60 вистов. В программе ПрефКаунт эти значения
        можно увидеть в каждой графе вистов обведенными в овал. После подсчета индивидуальных балансов определяется
        абсолютное сальдо для каждого игрока - все индивидуальные сальдо игрока складываются друг с другом.
        В ПрефКаунте эти величины записываются в одном из полей вистов (примерно на середине) и обводятся в прямоугольник.
      </subsection>

      <subsection name="4. ПРОИЗВОДИМ ОКОНЧАТЕЛЬНЫЙ РАСЧЕТ">
        Последним этапом, осталось только сложить "конечную гору" с абсолютным сальдо вистов для каждого игрока.
        Полученные значения обводятся в ромб и записываются в середине поля каждого игрока. Это и есть итог игры.
      </subsection>

    </section>
  </body>
</document>
